0 add r0,r0,r0 				000000 00000 00000 00000 00000 100000
4 addi a0,zero,4			001000 00000 00100 00000 00000000100 r4 = 4	
8 addi t1,zero,1  			001000 00000 01001 00000 00000000001 r9 = 1  
12 jal 	fib			        000011 00000000000000000000000101 	r31 = fib: 	10100 20
16 j 		final			000010 00000000000000000000011110 11110<<2 1111000   120
20 fib:	addi sp,sp,-12 		001000 11101 11101 1111111111110100 r29=r29 - 12 = 116	
24 sw ra,0(sp)				101011 11101 11111(31) 0000000000000000 m[r29=116/4=29+0] = r31 
28 sw s0,4(sp) 				101011 11101 10000(16) 0000000000000100 m[r29+1] = r16
32 sw s1,8(sp) 				101011 11101 10001(17) 0000000000001000 m[r29+2] = r17
36 add s0,a0,zero   		000000 00100 00000 10000 00000 100000 r16 = r4 + r0
40 beq s0,zero,re1			000100 10000 00000 0000000000001100 r16 ?= r0   off=12 44+12*4 = 92
44 beq s0,t1,re1			000100 10000 01001 0000000000001011 r16 ?= r9   off=11 48+11*4 = 92
48 addi a0,s0,-1   			001000 10000 00100 1111111111111111 r4 = r16 -1
52 jal fib 					000011 00000000000000000000000101 r31 = add(56), 101<<2= 10100 =20 
56 add s1,zero,v0			000000 00000 00010 10001 00000 100000 r17 = r0+r2
60 addi a0,s0,-2 			001000 10000 00100 1111111111111110	r4 = r16+ (-2)
64		jal fib				000011 00000000000000000000000101 r31 = exitfib(68), 101<<2 = 10100 =20 
68		add v0,v0,s1 		000000 00010 10001 00010 00000 100000 r2 = r2+ r17
72 exitfib:lw ra,0(sp) 		100011 11101 11111 0000000000000000 r31 = mem[r29]
76		lw s0,4(sp) 		100011 11101 10000 0000000000000100 r16 = mem[r29+1]
80		lw s1,8(sp) 		100011 11101 10001 0000000000001000 r17 = mem[r29+2]
84		addi sp,sp,12 		001000 11101 11101 0000000000001100  r29 = r29+12
88		jr ra				000000 11111 00000 00000 000000 01000 jr $31				//function call結束 
92 re1:	addi v0,zero,1 		001000 00000 00010 0000000000000001   r2 = r0+1;
96		j exitfib 			000010 00000000000000000000010010 	 10010<<2 1001000 =72 
100 final:	nop
							
sp 11101 29
s0 10000 16
s1 10001 17
t1 01001 9
v0 00010 2
ra 11111 31
a0 00100 4

--------------------------------------------------------------------------------------------------------------
s0 10000 r16
t0 10001 r17
t1 10010 r18
t2 10011 r19
t3 10100 r20
t4 10101 r21
t5 10110 r22
t6 10111 r23
s4 11000 r24

0 		add		$t0,$s0,$s0		r17 = r16+r16
000000 10000 10000 10001 00000 000000

4 		addi 	$t1, $s0, 10    r18 = r16+10 =10
001000 00000 10010 0000000000001010

8 		addi 	$t2,$s0, 13     r19 = r16+13 = 13
001000 00000 10011 0000000000001101

12 mul 	$t3, $t1, $t1           r20 = r18*r18
000000 10010 10010 10100 00000 001001

16 j	Jump 	88 01011000 	
000010 00000000000000000000010110

bubble:
20 li		$t0, 10 			r17 =10
001000 00000 10001 0000000000001010

24 li		$t1, 4 				r18 =4
001000 00000 10010 0000000000000100

28 mul		$t4, $t0, $t1 		r21 =r17 * r18
000000 10001 10010 10101 00000 001001

outer:
32 addi	$t6, $0, 8 				r23 = r0 + 8 
001000 00000 10111 0000000000001000

36 sub		$t0, $s4, $t6 		r17 = r21 - r23
000000 10101 10111 10001 00000 100010

40 li		$t1, 0 				r18 =0;
001000 00000 10010 0000000000000000 

inner:	
44 lw		$t2, 4($t0) 		r19=mem[r17+4] = m9 = 3
100011 10001 10011 0000000000000100

48 lw		$t3, 0($t0) 		r20=mem[r17] = m8 = 1
100011 10001 10100 0000000000000000



52 blt		$t2, $t3, no_swap 68 -60/4=2 if(r19<r20) then j no_swap  52+8 + 2<<2 
000110 10011 10100 0000000000000010


56 sw 		$t2, 0($t0)  		mem[r17] = m = r19
101011 10001 10011 0000000000000000

60 sw 		$t3, 4($t0) 		mem[r17+4] = r20
101011 10001 10100 0000000000000100

64 li 		$t1, 1 				r18 =1
001000 00000 10010 0000000000000001

no_swap:
68 addi 	$t5, $0, 4 			r22 = 4
001000 00000 10110 0000000000000100

72 sub		$t0, $t0, $t5 		r17 = r17-r22
000000 10001 10110 10001 00000 100010

76 bgez	$t0, inner  44 -84/4 = -10 if(r17>=0) jump inner
000001 10001 00001 1111111111110110 

80 bnez	$t1, outer 32 -88/4 = -14
000101 10010 00000 1111111111110010

84 j 		End 112 01110000         jump imme<<2
000010 00000000000000000000011100

Jump: 	
88 sub 	$t2, $t2, $t1 		r19 = r19- r18    
000000 10011 10010 10011 00000 100010

Loop: 	

92 add 	$t4, $t3, $t2 		r21 = r19+ r20
000000 10100 10011 10101 00000 100000

96 beq 	$t1, $t2, Loop  92 -104/4 = -3 if r18 = r19 jump to Loop    96+8 - 3<<2 =92
000100 10010 10011 1111111111111101

100 j 		bubble  20  00010100   jump imme<<2
000010 00000000000000000000000101

112 End:



